!function(window,factory){var dmoment=function(window,document){"use strict";function hooks(ops){var dmoment=dmoment||new Dmoment;return DmomentConfig(ops,dmoment),dmoment}function Dmoment(){}function isFunction(fn){return"function"==typeof fn&&"[object Function]"===_toString.call(fn)}function isObject(obj){return"object"==typeof obj&&"[object Object]"===_toString.call(obj)}function isDate(obj){return"[object Date]"===_toString.call(obj)}function dateFormat(format){return format=format||dateConf.dateformat,formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](this)}function DmomentConfig(ops,dmoment){ops=ops||dateConf.date,!isDate(ops)&&isObject(ops)?CopyConfig(ops):(!isDate(ops)&&ops.replace(/-/g,"/"),dmoment._d=dateConf.date=new Date(ops))}function zeroFill(number,targetLength,forceSign){return((""+Math.abs(number)).length-targetLength?"0":"")+number}function makeFormatFunction(format){for(var arr=format.match(formatTokens),i=0,length=arr.length;i<length;i++)formatFunctions[arr[i]]&&(arr[i]=formatFunctions[arr[i]]);return function(dmom){var output="",i=0;for(i=0;i<length;i++)output+=isFunction(arr[i])?arr[i].call(dmom,format):arr[i];return output}}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof func&&(func=function(){return this[callback]()}),token&&(formatFunctions[token]=func),padded&&(formatFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])})}function makeGetSet(unit){return function(value){return value?set(this,unit,value):get(this,unit)}}function getSetMonth(value){return value?set(this,"Month",value):get(this,"Month")+1}function get(dmom,unit){return dmom._d["get"+unit]()||NaN}function set(dmom,unit,value){return dmom._d["set"+unit](dmom._d["get"+unit]()+value)||NaN}function CopyConfig(ops){for(var key in ops)dateConf[key]=ops[key]}function createAddFunction(direction,name){return function(val,period){return null!==val&&null!==period||console.log("错误"),addSubtract(this,{value:val,period:period},direction),this}}function addSubtract(dmom,dateObj,isAdding){dmom[dateObj.period](dateObj.value*isAdding)}var dateConf={locale:"cn",dateformat:"yyyy-MM-dd",date:new Date},_toString=Object.prototype.toString,formatTokens=/[Hh]mm(ss)?|MM?M?M?|DD?D?D?|ddd?d?|yyyy|YYYY|YY?|hh?|HH?|mm?|ss?|S{1,9}|./g,formatFunctions={},add=createAddFunction(1,"add"),subtract=createAddFunction(-1,"subtract");addFormatToken(0,["yyyy",4],0,"year"),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["dd",2],0,"date"),addFormatToken(0,["MM",2],0,"month"),addFormatToken(0,["hh",2],0,"hour"),addFormatToken(0,["mm",2],0,"minutes"),addFormatToken(0,["ss",2],0,"seconds");var proto=Dmoment.prototype;return proto.format=dateFormat,proto.year=proto.years=makeGetSet("FullYear"),proto.month=proto.months=getSetMonth,proto.date=makeGetSet("Date"),proto.day=proto.days=makeGetSet("Day"),proto.hour=proto.hours=makeGetSet("Hours"),proto.minutes=makeGetSet("Minutes"),proto.seconds=makeGetSet("Seconds"),proto.add=add,proto.subtract=subtract,hooks.prototype=proto,hooks}(window,window.document);window.dmoment=dmoment,"object"==typeof module&&module.exports&&(module.exports=dmoment)}(window);
